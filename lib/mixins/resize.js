"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.onResize = onResize;
exports.offResize = offResize;
exports.default = void 0;
var _eventTypes = require("../eventTypes");
var _constants = require("../constants");
var _contentTypes = require("../contentTypes");
function onResize(resizeHandler, element) {
    this.on(_eventTypes.RESIZE_EVENT_TYPE, resizeHandler, element);
}
function offResize(resizeHandler, element) {
    this.off(_eventTypes.RESIZE_EVENT_TYPE, resizeHandler, element);
}
function addResizeObject() {
    var _this = this;
    var resizeObject = document.createElement(_constants.OBJECT), style = "display: block; \n                 position: absolute; \n                 top: 0; \n                 left: 0; \n                 height: 100%; \n                 width: 100%; \n                 overflow: hidden; \n                 pointer-events: none; \n                 z-index: -1;", data = _constants.ABOUT_BLANK, type = _contentTypes.TEXT_HTML_CONTENT_TYPE;
    resizeObject.setAttribute("style", style);
    resizeObject.data = data;
    resizeObject.type = type;
    this.__resizeObject__ = resizeObject;
    resizeObject.onload = function() {
        return resizeObjectLoadHandler(_this);
    };
    this.domElement.appendChild(resizeObject);
}
function removeResizeObject() {
    var resizeObject = this.__resizeObject__, objectWindow = resizeObject.contentDocument.defaultView; ///
    objectWindow.removeEventListener(_eventTypes.RESIZE_EVENT_TYPE, resizeEventListener);
    this.domElement.removeChild(resizeObject);
    delete this.__resizeObject__;
}
var resizeMixins = {
    onResize: onResize,
    offResize: offResize,
    addResizeObject: addResizeObject,
    removeResizeObject: removeResizeObject
};
var _default = resizeMixins;
exports.default = _default;
function resizeObjectLoadHandler(element) {
    var resizeObject = element.__resizeObject__, resizeObjectWindow = resizeObject.contentDocument.defaultView; ///
    resizeObjectWindow.addEventListener(_eventTypes.RESIZE_EVENT_TYPE, function(event) {
        var resizeEventListeners = element.findEventListeners(_eventTypes.RESIZE_EVENT_TYPE);
        resizeEventListeners.forEach(function(resizeEventListener) {
            return resizeEventListener(event);
        });
    });
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvcmVzaXplLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBSRVNJWkVfRVZFTlRfVFlQRSB9IGZyb20gXCIuLi9ldmVudFR5cGVzXCI7XG5pbXBvcnQgeyBPQkpFQ1QsIEFCT1VUX0JMQU5LIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgVEVYVF9IVE1MX0NPTlRFTlRfVFlQRSB9IGZyb20gXCIuLi9jb250ZW50VHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uUmVzaXplKHJlc2l6ZUhhbmRsZXIsIGVsZW1lbnQpIHsgdGhpcy5vbihSRVNJWkVfRVZFTlRfVFlQRSwgcmVzaXplSGFuZGxlciwgZWxlbWVudCk7IH1cblxuZXhwb3J0IGZ1bmN0aW9uIG9mZlJlc2l6ZShyZXNpemVIYW5kbGVyLCBlbGVtZW50KSB7IHRoaXMub2ZmKFJFU0laRV9FVkVOVF9UWVBFLCByZXNpemVIYW5kbGVyLCBlbGVtZW50KTsgfVxuXG5mdW5jdGlvbiBhZGRSZXNpemVPYmplY3QoKSB7XG4gIGNvbnN0IHJlc2l6ZU9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoT0JKRUNUKSxcbiAgICAgICAgc3R5bGUgPSBgZGlzcGxheTogYmxvY2s7IFxuICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxuICAgICAgICAgICAgICAgICB0b3A6IDA7IFxuICAgICAgICAgICAgICAgICBsZWZ0OiAwOyBcbiAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOyBcbiAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7IFxuICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOyBcbiAgICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7IFxuICAgICAgICAgICAgICAgICB6LWluZGV4OiAtMTtgLFxuICAgICAgICBkYXRhID0gQUJPVVRfQkxBTkssXG4gICAgICAgIHR5cGUgPSBURVhUX0hUTUxfQ09OVEVOVF9UWVBFO1xuXG4gIHJlc2l6ZU9iamVjdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBzdHlsZSk7XG5cbiAgcmVzaXplT2JqZWN0LmRhdGEgPSBkYXRhO1xuXG4gIHJlc2l6ZU9iamVjdC50eXBlID0gdHlwZTtcblxuICB0aGlzLl9fcmVzaXplT2JqZWN0X18gPSByZXNpemVPYmplY3Q7XG5cbiAgcmVzaXplT2JqZWN0Lm9ubG9hZCA9ICgpID0+IHJlc2l6ZU9iamVjdExvYWRIYW5kbGVyKHRoaXMpO1xuXG4gIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChyZXNpemVPYmplY3QpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVSZXNpemVPYmplY3QoKSB7XG4gIGNvbnN0IHJlc2l6ZU9iamVjdCA9IHRoaXMuX19yZXNpemVPYmplY3RfXyxcbiAgICAgICAgb2JqZWN0V2luZG93ID0gcmVzaXplT2JqZWN0LmNvbnRlbnREb2N1bWVudC5kZWZhdWx0VmlldzsgIC8vL1xuXG4gIG9iamVjdFdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFJFU0laRV9FVkVOVF9UWVBFLCByZXNpemVFdmVudExpc3RlbmVyKTtcblxuICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlQ2hpbGQocmVzaXplT2JqZWN0KTtcblxuICBkZWxldGUgdGhpcy5fX3Jlc2l6ZU9iamVjdF9fO1xufVxuXG5jb25zdCByZXNpemVNaXhpbnMgPSB7XG4gIG9uUmVzaXplLFxuICBvZmZSZXNpemUsXG4gIGFkZFJlc2l6ZU9iamVjdCxcbiAgcmVtb3ZlUmVzaXplT2JqZWN0XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZXNpemVNaXhpbnM7XG5cbmZ1bmN0aW9uIHJlc2l6ZU9iamVjdExvYWRIYW5kbGVyKGVsZW1lbnQpIHtcbiAgY29uc3QgcmVzaXplT2JqZWN0ID0gZWxlbWVudC5fX3Jlc2l6ZU9iamVjdF9fLFxuICAgICAgICByZXNpemVPYmplY3RXaW5kb3cgPSByZXNpemVPYmplY3QuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3OyAgLy8vXG5cbiAgcmVzaXplT2JqZWN0V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoUkVTSVpFX0VWRU5UX1RZUEUsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHJlc2l6ZUV2ZW50TGlzdGVuZXJzID0gZWxlbWVudC5maW5kRXZlbnRMaXN0ZW5lcnMoUkVTSVpFX0VWRU5UX1RZUEUpO1xuXG4gICAgcmVzaXplRXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgocmVzaXplRXZlbnRMaXN0ZW5lcikgPT4gcmVzaXplRXZlbnRMaXN0ZW5lcihldmVudCkpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJvblJlc2l6ZSIsIm9mZlJlc2l6ZSIsInJlc2l6ZUhhbmRsZXIiLCJlbGVtZW50Iiwib24iLCJvZmYiLCJhZGRSZXNpemVPYmplY3QiLCJyZXNpemVPYmplY3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRhdGEiLCJ0eXBlIiwic2V0QXR0cmlidXRlIiwiX19yZXNpemVPYmplY3RfXyIsIm9ubG9hZCIsInJlc2l6ZU9iamVjdExvYWRIYW5kbGVyIiwiZG9tRWxlbWVudCIsImFwcGVuZENoaWxkIiwicmVtb3ZlUmVzaXplT2JqZWN0Iiwib2JqZWN0V2luZG93IiwiY29udGVudERvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzaXplRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIiwicmVzaXplTWl4aW5zIiwicmVzaXplT2JqZWN0V2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVzaXplRXZlbnRMaXN0ZW5lcnMiLCJmaW5kRXZlbnRMaXN0ZW5lcnMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiQUFBQSxDQUFZOzs7O1FBTUlBLFFBQVEsR0FBUkEsUUFBUTtRQUVSQyxTQUFTLEdBQVRBLFNBQVM7O0FBTlMsR0FBZSxDQUFmLFdBQWU7QUFDYixHQUFjLENBQWQsVUFBYztBQUNYLEdBQWlCLENBQWpCLGFBQWlCO1NBRXhDRCxRQUFRLENBQUNFLGFBQWEsRUFBRUMsT0FBTyxFQUFFLENBQUM7SUFBQyxJQUFJLENBQUNDLEVBQUUsQ0FKeEIsV0FBZSxvQkFJNkJGLGFBQWEsRUFBRUMsT0FBTztBQUFHLENBQUM7U0FFeEZGLFNBQVMsQ0FBQ0MsYUFBYSxFQUFFQyxPQUFPLEVBQUUsQ0FBQztJQUFDLElBQUksQ0FBQ0UsR0FBRyxDQU4xQixXQUFlLG9CQU0rQkgsYUFBYSxFQUFFQyxPQUFPO0FBQUcsQ0FBQztTQUVqR0csZUFBZSxHQUFHLENBQUM7O0lBQzFCLEdBQUssQ0FBQ0MsWUFBWSxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FSVCxVQUFjLFVBUzFDQyxLQUFLLEdBQUksQ0FRWSwrUkFDckJDLElBQUksR0FsQndCLFVBQWMsY0FtQjFDQyxJQUFJLEdBbEIyQixhQUFpQjtJQW9CdERMLFlBQVksQ0FBQ00sWUFBWSxDQUFDLENBQU8sUUFBRUgsS0FBSztJQUV4Q0gsWUFBWSxDQUFDSSxJQUFJLEdBQUdBLElBQUk7SUFFeEJKLFlBQVksQ0FBQ0ssSUFBSSxHQUFHQSxJQUFJO0lBRXhCLElBQUksQ0FBQ0UsZ0JBQWdCLEdBQUdQLFlBQVk7SUFFcENBLFlBQVksQ0FBQ1EsTUFBTSxHQUFHLFFBQVE7UUFBRkMsTUFBTSxDQUFOQSx1QkFBdUI7O0lBRW5ELElBQUksQ0FBQ0MsVUFBVSxDQUFDQyxXQUFXLENBQUNYLFlBQVk7QUFDMUMsQ0FBQztTQUVRWSxrQkFBa0IsR0FBRyxDQUFDO0lBQzdCLEdBQUssQ0FBQ1osWUFBWSxHQUFHLElBQUksQ0FBQ08sZ0JBQWdCLEVBQ3BDTSxZQUFZLEdBQUdiLFlBQVksQ0FBQ2MsZUFBZSxDQUFDQyxXQUFXLENBQUcsQ0FBRyxBQUFILEVBQUcsQUFBSCxDQUFHO0lBRW5FRixZQUFZLENBQUNHLG1CQUFtQixDQXZDQSxXQUFlLG9CQXVDS0MsbUJBQW1CO0lBRXZFLElBQUksQ0FBQ1AsVUFBVSxDQUFDUSxXQUFXLENBQUNsQixZQUFZO0lBRXhDLE1BQU0sQ0FBQyxJQUFJLENBQUNPLGdCQUFnQjtBQUM5QixDQUFDO0FBRUQsR0FBSyxDQUFDWSxZQUFZLEdBQUcsQ0FBQztJQUNwQjFCLFFBQVEsRUFBUkEsUUFBUTtJQUNSQyxTQUFTLEVBQVRBLFNBQVM7SUFDVEssZUFBZSxFQUFmQSxlQUFlO0lBQ2ZhLGtCQUFrQixFQUFsQkEsa0JBQWtCO0FBQ3BCLENBQUM7ZUFFY08sWUFBWTs7U0FFbEJWLHVCQUF1QixDQUFDYixPQUFPLEVBQUUsQ0FBQztJQUN6QyxHQUFLLENBQUNJLFlBQVksR0FBR0osT0FBTyxDQUFDVyxnQkFBZ0IsRUFDdkNhLGtCQUFrQixHQUFHcEIsWUFBWSxDQUFDYyxlQUFlLENBQUNDLFdBQVcsQ0FBRyxDQUFHLEFBQUgsRUFBRyxBQUFILENBQUc7SUFFekVLLGtCQUFrQixDQUFDQyxnQkFBZ0IsQ0EzREgsV0FBZSxvQkEyRFEsUUFBUSxDQUFQQyxLQUFLLEVBQUssQ0FBQztRQUNqRSxHQUFLLENBQUNDLG9CQUFvQixHQUFHM0IsT0FBTyxDQUFDNEIsa0JBQWtCLENBNUR6QixXQUFlO1FBOEQ3Q0Qsb0JBQW9CLENBQUNFLE9BQU8sQ0FBQyxRQUFRLENBQVBSLG1CQUFtQjtZQUFLQSxNQUFNLENBQU5BLG1CQUFtQixDQUFDSyxLQUFLOztJQUNqRixDQUFDO0FBQ0gsQ0FBQyJ9